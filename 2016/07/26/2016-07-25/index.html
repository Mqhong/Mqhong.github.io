<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  
  <title>如何假装优雅的限定UITextField的长度 | 梦梦的咸鱼</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  
    <meta name="author" content="孟庆洪">
  
  
    <meta name="description" content="2016年07月26日星期二">
  
  <meta name="description" content="2016年07月26日星期二">
<meta property="og:type" content="article">
<meta property="og:title" content="如何假装优雅的限定UITextField的长度">
<meta property="og:url" content="http://mqhong.github.io/2016/07/26/2016-07-25/index.html">
<meta property="og:site_name" content="梦梦的咸鱼">
<meta property="og:description" content="2016年07月26日星期二">
<meta property="og:image" content="http://7xp12w.com1.z0.glb.clouddn.com/%E6%98%9F%E7%A9%BA.jpg">
<meta property="og:updated_time" content="2016-07-26T08:46:16.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="如何假装优雅的限定UITextField的长度">
<meta name="twitter:description" content="2016年07月26日星期二">
  
  
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>

<body>
  <div class="wrapper">
    <header id="header">
  <div class="title">
    <h1><a href="/">梦梦的咸鱼</a></h1>
    <p><a href="/">有梦想--孟庆洪</a></p>
  </div>
  <nav class="nav">
    <ul>
      
        <li><a href="/">主页</a></li>
      
        <li><a href="/archives">目录</a></li>
      
        <li><a href="/mystory">简历</a></li>
      
      
    </ul>
    <div class="clearfix"></div>
  </nav>
  <div class="clearfix"></div>
</header>
    <div class="content"><article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2016/07/26/2016-07-25/">
  <time datetime="2016-07-26T01:27:25.000Z">
    2016-07-26
  </time>
</a>
    
    
  
    <h1 class="title">如何假装优雅的限定UITextField的长度</h1>
  

  </header>
  
  <div class="entry">
    
      <p><img src="http://7xp12w.com1.z0.glb.clouddn.com/%E6%98%9F%E7%A9%BA.jpg" class="img-topic"></p>
<h3 id="2016_u5E7407_u670826_u65E5_u661F_u671F_u4E8C"><a href="#2016_u5E7407_u670826_u65E5_u661F_u671F_u4E8C" class="headerlink" title="2016年07月26日星期二"></a>2016年07月26日星期二</h3><a id="more"></a>
<h4 id="u4ECA_u5929_u540C_u4E8B_u95EE_u6211_uFF0C_u600E_u4E48_u6BD4_u8F83_u4F18_u96C5_u7684_u9650_u5236UITextField_u7684_u957F_u5EA6_uFF0C_u6211_u4E00_u62CD_u8111_u888B_uFF0C_u8FD9_u597D_u529E_u554A_u3002_u9F13_u6363_u4E86_u534A_u5929_uFF0C_u53D1_u73B0_u7B54_u6848_u548C_u597D_u7684_u89E3_u51B3_u65B9_u6848_u4E0D_u662F_u62CD_u8111_u888B_u5C31_u80FD_u89E3_u51B3_u7684_u3002_u5728_u8FD9_u91CC_u8BB2_u8BB2_u6211_u5F53_u65F6_u7684_u5FC3_u8DEF_u5386_u7A0B_u3002"><a href="#u4ECA_u5929_u540C_u4E8B_u95EE_u6211_uFF0C_u600E_u4E48_u6BD4_u8F83_u4F18_u96C5_u7684_u9650_u5236UITextField_u7684_u957F_u5EA6_uFF0C_u6211_u4E00_u62CD_u8111_u888B_uFF0C_u8FD9_u597D_u529E_u554A_u3002_u9F13_u6363_u4E86_u534A_u5929_uFF0C_u53D1_u73B0_u7B54_u6848_u548C_u597D_u7684_u89E3_u51B3_u65B9_u6848_u4E0D_u662F_u62CD_u8111_u888B_u5C31_u80FD_u89E3_u51B3_u7684_u3002_u5728_u8FD9_u91CC_u8BB2_u8BB2_u6211_u5F53_u65F6_u7684_u5FC3_u8DEF_u5386_u7A0B_u3002" class="headerlink" title="今天同事问我，怎么比较优雅的限制UITextField的长度，我一拍脑袋，这好办啊。鼓捣了半天，发现答案和好的解决方案不是拍脑袋就能解决的。在这里讲讲我当时的心路历程。"></a>今天同事问我，怎么比较优雅的限制UITextField的长度，我一拍脑袋，这好办啊。鼓捣了半天，发现答案和好的解决方案不是拍脑袋就能解决的。在这里讲讲我当时的心路历程。</h4><h4 id="u9996_u5148_uFF0C_u6211_u51B3_u5B9A_u7528_u5206_u7C7B_u6765_u5B9E_u73B0_u9650_u5236UITextField_u7684_u957F_u5EA6_uFF0C_u8FD9_u70B9_u5728_u540E_u6765_u89E3_u51B3_u4E86_u4E4B_u540E_uFF0C_u53D1_u73B0_u662F_u6CA1_u95EE_u9898_u7684_u3002_u8F7B_u8F66_u719F_u8DEF_uFF0C_u7684_u5728_u5206_u7C7B_u4E2D_u6DFB_u52A0_u4E86_u4E2A_u5C5E_u6027_u3002_u4EC0_u4E48_uFF1F_u5206_u7C7B_u4E0D_u80FD_u6DFB_u52A0_u5C5E_u6027_uFF1F_u8FD9_u600E_u4E48_u80FD_u96BE_u4F4F_u4E00_u4E2A_u7801_u755C_u5583_u3002talk_is_cheap_2Cshow_me_the_code"><a href="#u9996_u5148_uFF0C_u6211_u51B3_u5B9A_u7528_u5206_u7C7B_u6765_u5B9E_u73B0_u9650_u5236UITextField_u7684_u957F_u5EA6_uFF0C_u8FD9_u70B9_u5728_u540E_u6765_u89E3_u51B3_u4E86_u4E4B_u540E_uFF0C_u53D1_u73B0_u662F_u6CA1_u95EE_u9898_u7684_u3002_u8F7B_u8F66_u719F_u8DEF_uFF0C_u7684_u5728_u5206_u7C7B_u4E2D_u6DFB_u52A0_u4E86_u4E2A_u5C5E_u6027_u3002_u4EC0_u4E48_uFF1F_u5206_u7C7B_u4E0D_u80FD_u6DFB_u52A0_u5C5E_u6027_uFF1F_u8FD9_u600E_u4E48_u80FD_u96BE_u4F4F_u4E00_u4E2A_u7801_u755C_u5583_u3002talk_is_cheap_2Cshow_me_the_code" class="headerlink" title="首先，我决定用分类来实现限制UITextField的长度，这点在后来解决了之后，发现是没问题的。轻车熟路，的在分类中添加了个属性。什么？分类不能添加属性？这怎么能难住一个码畜喃。talk is cheap,show me the code."></a>首先，我决定用分类来实现限制UITextField的长度，这点在后来解决了之后，发现是没问题的。轻车熟路，的在分类中添加了个属性。什么？分类不能添加属性？这怎么能难住一个码畜喃。talk is cheap,show me the code.</h4><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@interface</span> UITextField (MMTextLimteLong)</span><br><span class="line"></span><br><span class="line"><span class="variable">@property</span> (nonatomic,assign) NSInteger textlong;</span><br><span class="line"></span><br><span class="line"><span class="variable">@end</span></span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="built_in">NSString</span> *longkey = <span class="string">@"textlong"</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-(<span class="built_in">NSInteger</span>)textlong&#123;</span><br><span class="line">    <span class="keyword">return</span> [objc_getAssociatedObject(<span class="keyword">self</span>, &amp;longkey) integerValue] ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)setTextlong:(<span class="built_in">NSInteger</span>)textlong&#123;</span><br><span class="line">    objc_setAssociatedObject(<span class="keyword">self</span>, &amp;longkey, [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%ld"</span>,(<span class="keyword">long</span>)textlong], OBJC_ASSO<span class="built_in">CIATION_COPY_NONATOMIC</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="u7A0D_u5FAE_u8BB2_u89E3_u4E00_u4E0B_u987A_u4FBF_u628A_u5173_u8054_u4E5F_u7ED9_u79D1_u666E_u4E86_u5427_uFF1A"><a href="#u7A0D_u5FAE_u8BB2_u89E3_u4E00_u4E0B_u987A_u4FBF_u628A_u5173_u8054_u4E5F_u7ED9_u79D1_u666E_u4E86_u5427_uFF1A" class="headerlink" title="稍微讲解一下顺便把关联也给科普了吧："></a>稍微讲解一下顺便把关联也给科普了吧：</h4><h5 id="u8981_u4F7F_u7528_u5173_u8054_u5FC5_u987B_u4F7F_u7528_u7684_u5934_u6587_u4EF6_uFF0C_u5173_u8054_u6682_u65F6_u53EA_u7528_u5F97_u5230_u4E09_u4E2A_u65B9_u6CD5"><a href="#u8981_u4F7F_u7528_u5173_u8054_u5FC5_u987B_u4F7F_u7528_u7684_u5934_u6587_u4EF6_uFF0C_u5173_u8054_u6682_u65F6_u53EA_u7528_u5F97_u5230_u4E09_u4E2A_u65B9_u6CD5" class="headerlink" title="要使用关联必须使用<objc/runtime.h>的头文件，关联暂时只用得到三个方法"></a>要使用关联必须使用<objc runtime.h="">的头文件，关联暂时只用得到三个方法</objc></h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">-(<span class="keyword">void</span>)objc_setAssociatedObject(<span class="keyword">id</span> object, <span class="keyword">void</span> *key, <span class="keyword">id</span> value, objc_AssociationPolicy policy);</span><br><span class="line"><span class="comment">//创建关联：参数设置(源对象，关键字，关联的对象和关联策略)</span></span><br><span class="line"></span><br><span class="line">-(<span class="keyword">id</span>)objc_getAssociatedObject(<span class="keyword">id</span> object, <span class="keyword">void</span> *key)</span><br><span class="line"><span class="comment">//获取关联对象：参数设置（源对象，关键字）</span></span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)objc_removeAssociatedObjects(<span class="keyword">id</span> object)</span><br><span class="line"><span class="comment">//断开所有关联，让“回到最初的起点”，也就是没有任何关联</span></span><br><span class="line"><span class="comment">//但是要断开部分关联的时候，可以用objc_setAssociatedObject,把关联对象传入nil就可以啦。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//上面写的"关键字"，是一个void类型的指针，每个关联的关键字必须是唯一的。通常都是采用静态变量来作为关键字</span></span><br><span class="line"><span class="comment">//关联策略表明了相关的对象是通过赋值，保留引用还是赋值的方式进行关联的；</span></span><br><span class="line"><span class="comment">//还有这种关联是原子的还是非原子的。和属性的声明很类似。这种关联策略是通过使用预先定义好的常量来表示的。</span></span><br></pre></td></tr></table></figure>
<h5 id="u4E0A_u9762_u9F13_u6363_u4E00_u5927_u5806_uFF0C_u4E0D_u77E5_u9053_u6709_u6CA1_u6709_u770B_u61C2_uFF0C_u53CD_u6B63_u6211_u662F_u5728_u5B9E_u8DF5_u4E2D_u7528_u4E86_u624D_u61C2_u4E86_u4E00_u4E9B_u7684_u3002_u4E0A_u9762_u7684_u65B9_u6CD5_u8C8C_u4F3C_u5B98_u65B9_u7684_u53EB_u6CD5_u662Fassociative_uFF0C_u662F_u548Ccategory_u4E00_u8D77_u4F5C_u4E3Aobjective-c_u7684_u6269_u5C55_u673A_u5236_u7684_u4E24_u4E2A_u7279_u6027_u3002category_u65E2_u7C7B_u578B_uFF0C_u53EF_u4EE5_u901A_u8FC7_u5B83_u6765_u6269_u5C55_u65B9_u6CD5_uFF1Bassociative_uFF0C_u53EF_u4EE5_u901A_u8FC7_u5B83_u6765_u53EF_u6269_u5C55_u5C5E_u6027_uFF0C_u4E0D_u8FC7_u770B_u5927_u795E_u8C8C_u4F3C_u7528_u8FD9_u4E2A_u53EF_u4EE5_u52A8_u6001_u7684_u8BBE_u5B9A_u65B9_u6CD5_uFF0C_u5F53_u7136_u4E5F_u53EF_u4EE5_u52A8_u6001_u7684_u8BBE_u5B9A_u5C5E_u6027_u3002_u4EE5_u540E_u518D_u6765_u628A_u73A9_u3002"><a href="#u4E0A_u9762_u9F13_u6363_u4E00_u5927_u5806_uFF0C_u4E0D_u77E5_u9053_u6709_u6CA1_u6709_u770B_u61C2_uFF0C_u53CD_u6B63_u6211_u662F_u5728_u5B9E_u8DF5_u4E2D_u7528_u4E86_u624D_u61C2_u4E86_u4E00_u4E9B_u7684_u3002_u4E0A_u9762_u7684_u65B9_u6CD5_u8C8C_u4F3C_u5B98_u65B9_u7684_u53EB_u6CD5_u662Fassociative_uFF0C_u662F_u548Ccategory_u4E00_u8D77_u4F5C_u4E3Aobjective-c_u7684_u6269_u5C55_u673A_u5236_u7684_u4E24_u4E2A_u7279_u6027_u3002category_u65E2_u7C7B_u578B_uFF0C_u53EF_u4EE5_u901A_u8FC7_u5B83_u6765_u6269_u5C55_u65B9_u6CD5_uFF1Bassociative_uFF0C_u53EF_u4EE5_u901A_u8FC7_u5B83_u6765_u53EF_u6269_u5C55_u5C5E_u6027_uFF0C_u4E0D_u8FC7_u770B_u5927_u795E_u8C8C_u4F3C_u7528_u8FD9_u4E2A_u53EF_u4EE5_u52A8_u6001_u7684_u8BBE_u5B9A_u65B9_u6CD5_uFF0C_u5F53_u7136_u4E5F_u53EF_u4EE5_u52A8_u6001_u7684_u8BBE_u5B9A_u5C5E_u6027_u3002_u4EE5_u540E_u518D_u6765_u628A_u73A9_u3002" class="headerlink" title="上面鼓捣一大堆，不知道有没有看懂，反正我是在实践中用了才懂了一些的。上面的方法貌似官方的叫法是associative，是和category一起作为objective-c的扩展机制的两个特性。category既类型，可以通过它来扩展方法；associative，可以通过它来可扩展属性，不过看大神貌似用这个可以动态的设定方法，当然也可以动态的设定属性。以后再来把玩。"></a>上面鼓捣一大堆，不知道有没有看懂，反正我是在实践中用了才懂了一些的。上面的方法貌似官方的叫法是associative，是和category一起作为objective-c的扩展机制的两个特性。category既类型，可以通过它来扩展方法；associative，可以通过它来可扩展属性，不过看大神貌似用这个可以动态的设定方法，当然也可以动态的设定属性。以后再来把玩。</h5><h4 id="u56DE_u5230_u6B63_u9898_uFF0C_u7528_u4E0A_u9762_u7684_u65B9_u6CD5_u9F13_u6363_u4E00_u9635_u540E_uFF0C_u5728_u5206_u7C7B_u4E2D_u58F0_u660E_u597D_u4E86_u5C5E_u6027_u3002_u7136_u540E_u6211_u6700_u5F00_u59CB_u7684_u601D_u8DEF_u662F_uFF0C_u7528KVO_u53BB_u76D1_u542CUITextField_u7684text_u7684_u6539_u53D8_u3002_u4E8B_u5B9E_u8BC1_u660E_uFF0C_u6211_u8FD8_u662Ftoo_uD83D_uDC11too_u68EE_u7834_u3002_u9F13_u6363_u4E86_u51E0_u4E2A_u5C0F_u65F6_u540E_uFF0C_u7F51_u53CB_u544A_u8BC9_u6211_uFF0CUITextField_u7684text_u662F_u76D1_u542C_u4E0D_u5230_u7684_u3002_u6211_u4E5F_u4E0D_u77E5_u9053_u80FD_u4E0D_u80FD_u76D1_u542C_u5230_uFF0C_u53CD_u6B63KVO_u4E00_u76F4_u7ED9_u6211_u8BF4_uFF1A_u4F60_u8BF4_u7684_u5565_3F_u6211_u542C_u4E0D_u89C1_u3002_u7136_u540E_u6211_u53C8_u8BEF_u5165_u4E86_u53E6_u5916_u4E00_u4E2A_u4F01_u56FE_u3002_u8BF4_u51FA_u6765_u53C8_u662F_u4E00_u628A_u8F9B_u9178_u6CEA_u3002_u6211_u5728_u5206_u7C7B_u4E2D_u5B9E_u73B0_u4E86UITextField_u7684_u4EE3_u7406_u65B9_u6CD5_u3002_u7136_u540E_u4E8B_u60C5_u5C31_u89E3_u51B3_u4E86_u3002_u4F46_u662F_uFF0C_u4E8B_u60C5_u5F80_u5F80_u6CA1_u6709_u4F60_u60F3_u7684_u90A3_u4E48_u7B80_u5355_u3002_u6211_u5728_u5206_u7C7B_u4E2D_u5B9E_u73B0_u4E86_u81EA_u5DF1_u7684_u4EE3_u7406_u65B9_u6CD5_uFF0C_u5982_u679C_u522B_u4EBA_u5728_u5916_u90E8_u8981_u7528UITextField_u7684_u4EE3_u7406_u65B9_u6CD5_uFF0C_u6211_u5185_u90E8_u5B9E_u73B0_u7684_u4EE3_u7406_u65B9_u6CD5_u5C31_u4E0D_u80FD_u7528_u4E86_u554A_u3002_u4EE3_u7406_u65B9_u6CD5_u53EA_u80FD_u6709_u4E00_u4E2A_7E_7E_7E_7E_u4E5F_u662F_u4E13_u4E00_u7684_u8BA9_u6211_u6D41_u6CEA_u3002_u540E_u6765_u7A81_u7136_u60F3_u5230_u4E86UIControlEventEditingChanged_u3002_u8FD9_u624D_u7B97_u662F_u8D70_u4E0A_u4E86_u6B63_u8DEF_u3002"><a href="#u56DE_u5230_u6B63_u9898_uFF0C_u7528_u4E0A_u9762_u7684_u65B9_u6CD5_u9F13_u6363_u4E00_u9635_u540E_uFF0C_u5728_u5206_u7C7B_u4E2D_u58F0_u660E_u597D_u4E86_u5C5E_u6027_u3002_u7136_u540E_u6211_u6700_u5F00_u59CB_u7684_u601D_u8DEF_u662F_uFF0C_u7528KVO_u53BB_u76D1_u542CUITextField_u7684text_u7684_u6539_u53D8_u3002_u4E8B_u5B9E_u8BC1_u660E_uFF0C_u6211_u8FD8_u662Ftoo_uD83D_uDC11too_u68EE_u7834_u3002_u9F13_u6363_u4E86_u51E0_u4E2A_u5C0F_u65F6_u540E_uFF0C_u7F51_u53CB_u544A_u8BC9_u6211_uFF0CUITextField_u7684text_u662F_u76D1_u542C_u4E0D_u5230_u7684_u3002_u6211_u4E5F_u4E0D_u77E5_u9053_u80FD_u4E0D_u80FD_u76D1_u542C_u5230_uFF0C_u53CD_u6B63KVO_u4E00_u76F4_u7ED9_u6211_u8BF4_uFF1A_u4F60_u8BF4_u7684_u5565_3F_u6211_u542C_u4E0D_u89C1_u3002_u7136_u540E_u6211_u53C8_u8BEF_u5165_u4E86_u53E6_u5916_u4E00_u4E2A_u4F01_u56FE_u3002_u8BF4_u51FA_u6765_u53C8_u662F_u4E00_u628A_u8F9B_u9178_u6CEA_u3002_u6211_u5728_u5206_u7C7B_u4E2D_u5B9E_u73B0_u4E86UITextField_u7684_u4EE3_u7406_u65B9_u6CD5_u3002_u7136_u540E_u4E8B_u60C5_u5C31_u89E3_u51B3_u4E86_u3002_u4F46_u662F_uFF0C_u4E8B_u60C5_u5F80_u5F80_u6CA1_u6709_u4F60_u60F3_u7684_u90A3_u4E48_u7B80_u5355_u3002_u6211_u5728_u5206_u7C7B_u4E2D_u5B9E_u73B0_u4E86_u81EA_u5DF1_u7684_u4EE3_u7406_u65B9_u6CD5_uFF0C_u5982_u679C_u522B_u4EBA_u5728_u5916_u90E8_u8981_u7528UITextField_u7684_u4EE3_u7406_u65B9_u6CD5_uFF0C_u6211_u5185_u90E8_u5B9E_u73B0_u7684_u4EE3_u7406_u65B9_u6CD5_u5C31_u4E0D_u80FD_u7528_u4E86_u554A_u3002_u4EE3_u7406_u65B9_u6CD5_u53EA_u80FD_u6709_u4E00_u4E2A_7E_7E_7E_7E_u4E5F_u662F_u4E13_u4E00_u7684_u8BA9_u6211_u6D41_u6CEA_u3002_u540E_u6765_u7A81_u7136_u60F3_u5230_u4E86UIControlEventEditingChanged_u3002_u8FD9_u624D_u7B97_u662F_u8D70_u4E0A_u4E86_u6B63_u8DEF_u3002" class="headerlink" title="回到正题，用上面的方法鼓捣一阵后，在分类中声明好了属性。然后我最开始的思路是，用KVO去监听UITextField的text的改变。事实证明，我还是too🐑too森破。鼓捣了几个小时后，网友告诉我，UITextField的text是监听不到的。我也不知道能不能监听到，反正KVO一直给我说：你说的啥?我听不见。然后我又误入了另外一个企图。说出来又是一把辛酸泪。我在分类中实现了UITextField的代理方法。然后事情就解决了。但是，事情往往没有你想的那么简单。我在分类中实现了自己的代理方法，如果别人在外部要用UITextField的代理方法，我内部实现的代理方法就不能用了啊。代理方法只能有一个~~~~也是专一的让我流泪。后来突然想到了UIControlEventEditingChanged。这才算是走上了正路。"></a>回到正题，用上面的方法鼓捣一阵后，在分类中声明好了属性。然后我最开始的思路是，用KVO去监听UITextField的text的改变。事实证明，我还是too🐑too森破。鼓捣了几个小时后，网友告诉我，UITextField的text是监听不到的。我也不知道能不能监听到，反正KVO一直给我说：你说的啥?我听不见。然后我又误入了另外一个企图。说出来又是一把辛酸泪。我在分类中实现了UITextField的代理方法。然后事情就解决了。但是，事情往往没有你想的那么简单。我在分类中实现了自己的代理方法，如果别人在外部要用UITextField的代理方法，我内部实现的代理方法就不能用了啊。代理方法只能有一个~~~~也是专一的让我流泪。后来突然想到了UIControlEventEditingChanged。这才算是走上了正路。</h4><h3 id="u6211_u5728-_28void_29setTextlong_3A_28NSInteger_29textlong_3B_u65B9_u6CD5_u4E2D_u52A0_u5165_u4E86"><a href="#u6211_u5728-_28void_29setTextlong_3A_28NSInteger_29textlong_3B_u65B9_u6CD5_u4E2D_u52A0_u5165_u4E86" class="headerlink" title="我在-(void)setTextlong:(NSInteger)textlong;方法中加入了"></a>我在-(void)setTextlong:(NSInteger)textlong;方法中加入了</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">self</span> addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(isChangelimite:) forControlEvents:<span class="built_in">UIControlEventEditingChanged</span>];</span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)isChangelimite:(<span class="built_in">UITextField</span> *)textfield&#123;</span><br><span class="line">    <span class="keyword">if</span> (textfield<span class="variable">.text</span><span class="variable">.length</span> &gt;= <span class="keyword">self</span><span class="variable">.textlong</span>) &#123;</span><br><span class="line">        <span class="built_in">NSRange</span> range = <span class="built_in">NSMakeRange</span>(<span class="number">0</span>,<span class="keyword">self</span><span class="variable">.textlong</span>);</span><br><span class="line">        <span class="built_in">NSString</span> *textfiledtext = textfield<span class="variable">.text</span>;</span><br><span class="line">        textfiledtext = [textfiledtext substringWithRange:range];</span><br><span class="line">        textfield<span class="variable">.text</span> = textfiledtext;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="u4E0A_u9762_u7684_u65B9_u6CD5_uFF0C_u7136_u540E_u4E8B_u60C5_u5C31_u89E3_u51B3_u4E86_uFF01"><a href="#u4E0A_u9762_u7684_u65B9_u6CD5_uFF0C_u7136_u540E_u4E8B_u60C5_u5C31_u89E3_u51B3_u4E86_uFF01" class="headerlink" title="上面的方法，然后事情就解决了！"></a>上面的方法，然后事情就解决了！</h3><h2 id="u554A_7E_u4E16_u754C_u662F_u591A_u4E48_u7684_u7F8E_u5999_uFF0C_u7A7A_u6C14_u662F_u591A_u9EBD_u7684_u6E05_u65B0_uFF01"><a href="#u554A_7E_u4E16_u754C_u662F_u591A_u4E48_u7684_u7F8E_u5999_uFF0C_u7A7A_u6C14_u662F_u591A_u9EBD_u7684_u6E05_u65B0_uFF01" class="headerlink" title="啊~世界是多么的美妙，空气是多麽的清新！"></a>啊~世界是多么的美妙，空气是多麽的清新！</h2>
    
  </div>
  <footer>
    
      
      
  <div class="tags">
    <a class="tags-link" href="/tags/琐事/">琐事</a>
  </div>

    
    <div class="clearfix"></div>
  </footer>
</article>


<section id="comment">
  <h1 class="title">评论</h1>
  <div class="ds-thread" data-title="如何假装优雅的限定UITextField的长度">
  </div>
</section>
</div>
  </div>
  <footer id="footer"><div class="copyright">
  
  &copy; 2016 <a href="/">孟庆洪</a>
  
</div>
<div class="theme-copyright">
  Theme by <a href="https://github.com/orderedlist" target="_blank">orderedlist</a>
   | 
  Redesign by <a href="http://heroicyang.com/" target="_blank">Heroic Yang</a>
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.useso.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
<script src="/js/scale.fix.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
  var duoshuoQuery = { short_name: 'mqhong' };
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';
    ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
  (function($){
    $('.fancybox').fancybox();
  })(jQuery);
</script>

</body>
</html>